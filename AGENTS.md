# Repository Guidelines

## Project Structure & Module Organization
The repository builds a single C++ microphysics example that integrates the Robertson stiff system through VODE. User-editable sources live in `src/` (currently `main.cpp`), with supporting headers in `include/` for integrator hooks, network definitions, and runtime parameters. Everything under `build/` is generated by CMake and should not be committed. The `CMakeLists.txt` also reaches into sibling directories (`../interfaces`, `../integration`, `../util`) from the parent Microphysics tree, so keep those modules in sync before pushing changes here.

## Build, Test, and Development Commands
- `cmake -S . -B build -DAMREX_TAG=development`: configure the project, fetching the pinned AMReX snapshot and setting space dimension and accelerator options to CPU-only.
- `cmake --build build --target robertson_vode -j`: compile with C++17, linking against the fetched AMReX libraries.
- `./build/robertson_vode > robertson.log`: run the executable and capture the printed time-evolution table for inspection or comparison.
Pass `-DAMREX_TAG=<tag_or_sha>` when configuring if you need to test against a specific AMReX revision.

## Coding Style & Naming Conventions
Source files are C++17 with four-space indentation, no tabs, and braces on their own lines for functions. Follow AMReX naming norms: type names in `CamelCase`, free functions and variables in `snake_case`, and macro-like constants such as `IERR_SUCCESS` in all caps. Keep GPU annotations (`AMREX_GPU_HOST_DEVICE`, `AMREX_FORCE_INLINE`) exactly as in existing kernels, and prefer `constexpr`/`auto` when it clarifies intent. Headers use `.H` to match the Microphysics tree; do not rename without aligning downstream consumers.

## Testing Guidelines
There is no standalone test harness, so validation currently happens by running `./build/robertson_vode` and confirming the tabulated `(time, y1, y2, y3)` values match the expected stiff-solution curve (small `y2` peak near `4e2`). When extending chemistry or tolerances, capture a new reference log and compare with `diff` to guard against regressions. Add unit tests under `tests/` if you introduce reusable utilities.

## Commit & Pull Request Guidelines
The `development` branch has no history yet, so establish a consistent `component: imperative summary` format (e.g., `integrator: tighten tolerances`) where `component` references `src`, `include`, or `cmake`. Each commit should cover one logical change and compile cleanly. Pull requests should describe the scientific motivation, list build/test commands you ran, and link any upstream AMReX or Microphysics issues. Include screenshots or log excerpts when output changes, and tag reviewers familiar with both AMReX and Microphysics integration layers.
